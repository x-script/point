import{d as L,r as h,o as _,a as x,c as k,b as P}from"./index-zM11uB0N.js";function C(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var I={exports:{}},j=I.exports,b;function E(){return b||(b=1,(function(c,m){(function(f,v){c.exports=v()})(j,function(){function f(e){var s=[];return e.AMapUI&&s.push(v(e.AMapUI)),e.Loca&&s.push(A(e.Loca)),Promise.all(s)}function v(e){return new Promise(function(s,a){var u=[];if(e.plugins)for(var i=0;i<e.plugins.length;i+=1)n.AMapUI.plugins.indexOf(e.plugins[i])==-1&&u.push(e.plugins[i]);if(t.AMapUI===o.failed)a("前次请求 AMapUI 失败");else if(t.AMapUI===o.notload){t.AMapUI=o.loading,n.AMapUI.version=e.version||n.AMapUI.version,i=n.AMapUI.version;var l=document.body||document.head,d=document.createElement("script");d.type="text/javascript",d.src="https://webapi.amap.com/ui/"+i+"/main.js",d.onerror=function(r){t.AMapUI=o.failed,a("请求 AMapUI 失败")},d.onload=function(){if(t.AMapUI=o.loaded,u.length)window.AMapUI.loadUI(u,function(){for(var r=0,M=u.length;r<M;r++){var w=u[r].split("/").slice(-1)[0];window.AMapUI[w]=arguments[r]}for(s();p.AMapUI.length;)p.AMapUI.splice(0,1)[0]()});else for(s();p.AMapUI.length;)p.AMapUI.splice(0,1)[0]()},l.appendChild(d)}else t.AMapUI===o.loaded?e.version&&e.version!==n.AMapUI.version?a("不允许多个版本 AMapUI 混用"):u.length?window.AMapUI.loadUI(u,function(){for(var r=0,M=u.length;r<M;r++){var w=u[r].split("/").slice(-1)[0];window.AMapUI[w]=arguments[r]}s()}):s():e.version&&e.version!==n.AMapUI.version?a("不允许多个版本 AMapUI 混用"):p.AMapUI.push(function(r){r?a(r):u.length?window.AMapUI.loadUI(u,function(){for(var M=0,w=u.length;M<w;M++){var y=u[M].split("/").slice(-1)[0];window.AMapUI[y]=arguments[M]}s()}):s()})})}function A(e){return new Promise(function(s,a){if(t.Loca===o.failed)a("前次请求 Loca 失败");else if(t.Loca===o.notload){t.Loca=o.loading,n.Loca.version=e.version||n.Loca.version;var u=n.Loca.version,i=n.AMap.version.startsWith("2"),l=u.startsWith("2");if(i&&!l||!i&&l)a("JSAPI 与 Loca 版本不对应！！");else{i=n.key,l=document.body||document.head;var d=document.createElement("script");d.type="text/javascript",d.src="https://webapi.amap.com/loca?v="+u+"&key="+i,d.onerror=function(r){t.Loca=o.failed,a("请求 AMapUI 失败")},d.onload=function(){for(t.Loca=o.loaded,s();p.Loca.length;)p.Loca.splice(0,1)[0]()},l.appendChild(d)}}else t.Loca===o.loaded?e.version&&e.version!==n.Loca.version?a("不允许多个版本 Loca 混用"):s():e.version&&e.version!==n.Loca.version?a("不允许多个版本 Loca 混用"):p.Loca.push(function(r){r?a(r):a()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var o;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(o||(o={}));var n={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},t={AMap:o.notload,AMapUI:o.notload,Loca:o.notload},p={AMapUI:[],Loca:[]},g=[],U=function(e){typeof e=="function"&&(t.AMap===o.loaded?e(window.AMap):g.push(e))};return{load:function(e){return new Promise(function(s,a){if(t.AMap==o.failed)a("");else if(t.AMap==o.notload){var u=e.key,i=e.version,l=e.plugins;u?(window.AMap&&location.host!=="lbs.amap.com"&&a("禁止多种API加载方式混用"),n.key=u,n.AMap.version=i||n.AMap.version,n.AMap.plugins=l||n.AMap.plugins,t.AMap=o.loading,i=document.body||document.head,window.___onAPILoaded=function(r){if(delete window.___onAPILoaded,r)t.AMap=o.failed,a(r);else for(t.AMap=o.loaded,f(e).then(function(){s(window.AMap)}).catch(a);g.length;)g.splice(0,1)[0]()},l=document.createElement("script"),l.type="text/javascript",l.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+n.AMap.version+"&key="+u+"&plugin="+n.AMap.plugins.join(","),l.onerror=function(r){t.AMap=o.failed,a(r)},i.appendChild(l)):a("请填写key")}else if(t.AMap==o.loaded)if(e.key&&e.key!==n.key)a("多个不一致的 key");else if(e.version&&e.version!==n.AMap.version)a("不允许多个版本 JSAPI 混用");else{if(u=[],e.plugins)for(i=0;i<e.plugins.length;i+=1)n.AMap.plugins.indexOf(e.plugins[i])==-1&&u.push(e.plugins[i]);u.length?window.AMap.plugin(u,function(){f(e).then(function(){s(window.AMap)}).catch(a)}):f(e).then(function(){s(window.AMap)}).catch(a)}else if(e.key&&e.key!==n.key)a("多个不一致的 key");else if(e.version&&e.version!==n.AMap.version)a("不允许多个版本 JSAPI 混用");else{var d=[];if(e.plugins)for(i=0;i<e.plugins.length;i+=1)n.AMap.plugins.indexOf(e.plugins[i])==-1&&d.push(e.plugins[i]);U(function(){d.length?window.AMap.plugin(d,function(){f(e).then(function(){s(window.AMap)}).catch(a)}):f(e).then(function(){s(window.AMap)}).catch(a)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,n={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},t={AMap:o.notload,AMapUI:o.notload,Loca:o.notload},p={AMap:[],AMapUI:[],Loca:[]}}}})})(I)),I.exports}var S=E();const D=C(S),O={class:"container"},J=L({__name:"index",setup(c){h();let m=null;var f=[{areaId:1,id:1,name:"左所屯",position:[116.162014,40.532986]}],v=[{cId:1,id:1,name:"5-1",x:"116.157566",y:"40.52717"},{cId:1,id:2,name:"5-2",x:"116.155415",y:"40.525596"}];return _(()=>{D.load({key:"7aa765f8c7dfa0f01370cb359283562e",version:"2.0",plugins:[]}).then(A=>{m=new A.Map("container",{viewMode:"3D",zoom:16,center:[115.976807,40.458338],showIndoorMap:!1,showLabel:!1,mapStyle:"amap://styles/fresh"});var o=[],n=new A.LabelsLayer({zooms:[3,20],zIndex:1e3,collision:!1,allowCollision:!1});m.add(n);var t={fontSize:12,fontWeight:"normal",fillColor:"#fff",padding:"2, 5",backgroundColor:"rgb(246,137,38)",borderColor:"#fff",borderWidth:1};for(var p of v){console.log(1,p);var g=new A.LabelMarker({name:p.name,position:[p.x,p.y],text:{content:p.name,direction:"center",style:t}});o.push(g)}n.add(o)}).catch(A=>{console.log(A)})}),x(()=>{m?.destroy()}),h(f),(A,o)=>(P(),k("div",O," 444444444444444 "))}});export{J as default};
